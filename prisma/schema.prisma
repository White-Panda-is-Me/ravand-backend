// `his is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  email       String @unique
  id          Int @id @default(autoincrement())
  CreatedAt   DateTime @default(now())
  UpdatedAt   DateTime

  hash        String

  fName       String
  lName       String
  plans       Plan[]

  ParentId    Int?

  @@map("users")
}

model Plan {
  planid        Int   @id @default(autoincrement())

  date          DateTime  @default(now())
  Tasks         Json
  UserId        Int

  user          User      @relation(fields: [UserId] ,references: [id])
}

model vers {
  id     Int @id @default(autoincrement())
  token  String @unique
  email  String
  signed Boolean
  expire DateTime
  code   String
}

model Childreq {
  id         Int @id @default(autoincrement())
  ChildId    Int
  ParentId   Int

  Accepted   Boolean @default(false)
  Date       DateTime @default(now())
}
